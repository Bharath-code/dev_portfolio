---
interface Props {
    title: string;
    description?: string;
}

const {
    title,
    description = "Senior Frontend Architect & AI Engineer Portfolio",
} = Astro.props;
import "@/styles/global.css";
import NavBar from "@/components/ui/NavBar.astro";
import { ViewTransitions } from "astro:transitions";
import "@fontsource/archivo-black";
import "@fontsource/inter";
import "@fontsource/inter/500.css";
import "@fontsource/inter/600.css";
---

<!doctype html>
<html
    lang="en"
    class="scroll-smooth bg-white text-black dark:bg-void-black dark:text-white antialiased overflow-x-hidden"
>
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content={description} />
        <script is:inline>
            // Initialize theme to prevent FOUC
            (() => {
                const getTheme = () => {
                    if (
                        typeof localStorage !== "undefined" &&
                        localStorage.getItem("theme")
                    ) {
                        return localStorage.getItem("theme");
                    }
                    if (
                        window.matchMedia("(prefers-color-scheme: dark)")
                            .matches
                    ) {
                        return "dark";
                    }
                    return "light";
                };

                if (getTheme() === "dark") {
                    document.documentElement.classList.add("dark");
                } else {
                    document.documentElement.classList.remove("dark");
                }
            })();
        </script>
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content={Astro.site} />
        <meta property="og:title" content={title} />
        <meta property="og:description" content={description} />
        <meta property="og:image" content="/og-image.png" />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content={Astro.site} />
        <meta property="twitter:title" content={title} />
        <meta property="twitter:description" content={description} />
        <meta property="twitter:image" content="/og-image.png" />

        <link rel="canonical" href={Astro.site} />

        <!-- AEO: JSON-LD Schema for Entity Recognition -->
        <script type="application/ld+json" is:inline>
            {
                "@context": "https://schema.org",
                "@type": "Person",
                "name": "Bharathkumar Palanisamy",
                "url": "https://www.bharathkumar.dev",
                "image": "https://github.com/Bharath-code.png",
                "sameAs": [
                    "https://github.com/Bharath-code",
                    "https://x.com/iam_pbk",
                    "https://linkedin.com/in/bharathkumar-palanisamy"
                ],
                "jobTitle": "Staff Software Architect",
                "worksFor": {
                    "@type": "Organization",
                    "name": "Self-Employed"
                }
            }
        </script>

        <title>{title}</title>
        <ViewTransitions />
    </head>
    <body class="selection:bg-signal-emerald selection:text-void-black">
        <NavBar />
        <main class="relative z-10">
            <slot />
        </main>
        <div
            class="fixed inset-0 z-0 pointer-events-none bg-[url('/noise.svg')] opacity-20 mix-blend-overlay"
        >
        </div>
    </body>
</html>
