---
interface ExperienceItem {
  company: string;
  role: string;
  period: string;
  description: string;
}

interface Props {
  items: ExperienceItem[];
}

const { items } = Astro.props;
---

<div class="relative space-y-12">
  <div class="absolute left-[15px] top-2 h-full w-[1px] bg-white/10 md:left-1/2 md:-ml-[0.5px]"></div>

  {items.map((item, index) => (
    <div class={`relative flex flex-col gap-8 md:flex-row ${index % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
      
      <div class="flex-1 md:text-right">
        {index % 2 === 0 && (
           <div class="hidden md:block">
              <h3 class="font-display text-2xl text-white">{item.company}</h3>
              <p class="text-signal-emerald font-medium mb-2">{item.role}</p>
              <p class="text-gray-400 text-sm">{item.period}</p>
           </div>
        )}
         {index % 2 !== 0 && (
            <div class="block md:hidden"> <!-- Mobile View for Right Side -->
                <h3 class="font-display text-2xl text-white">{item.company}</h3>
                <p class="text-signal-emerald font-medium mb-2">{item.role}</p>
                <p class="text-gray-400 text-sm">{item.period}</p>
            </div>
         )}
         {index % 2 !== 0 && (
             <div class="hidden md:block text-left text-gray-400 leading-relaxed bg-white/5 p-6 rounded-2xl border border-white/5 hover:border-white/10 transition-colors">
                {item.description}
             </div>
         )}
      </div>

      <div class="absolute left-0 flex h-8 w-8 items-center justify-center rounded-full bg-void-black border border-white/20 md:relative md:left-auto">
        <div class="h-2 w-2 rounded-full bg-signal-emerald shadow-[0_0_10px_rgba(16,185,129,0.5)]"></div>
      </div>

      <div class="flex-1 pl-12 md:pl-0">
          {index % 2 !== 0 && (
           <div class="hidden md:block">
              <h3 class="font-display text-2xl text-white">{item.company}</h3>
              <p class="text-signal-emerald font-medium mb-2">{item.role}</p>
              <p class="text-gray-400 text-sm">{item.period}</p>
           </div>
        )}
         {index % 2 === 0 && (
            <div class="block md:hidden"> <!-- Mobile View for Left Side -->
                <h3 class="font-display text-2xl text-white">{item.company}</h3>
                <p class="text-signal-emerald font-medium mb-2">{item.role}</p>
                <p class="text-gray-400 text-sm">{item.period}</p>
            </div>
         )}
        {index % 2 === 0 && (
             <div class="text-gray-400 leading-relaxed bg-white/5 p-6 rounded-2xl border border-white/5 hover:border-white/10 transition-colors">
                {item.description}
             </div>
         )}
         {/* Mobile description for odd items if not shown above */}
         {index % 2 !== 0 && (
            <div class="block md:hidden text-gray-400 leading-relaxed bg-white/5 p-6 rounded-2xl border border-white/5 hover:border-white/10 transition-colors mt-4">
                 {item.description}
            </div>
         )}
      </div>
      
    </div>
  ))}
</div>
